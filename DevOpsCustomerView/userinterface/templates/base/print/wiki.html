{% load i18n %}
{% load markdown %}
{% load template %}
<html>
  <head>
    <script defer src="https://software-design.de/static/vendor/bootstrap-5.1.3/js/bootstrap.bundle.min.js"></script>
    <style>
      table {
        width: 1000px;
      }
     
      body {
        font-family: "Arial", sans-serif;
      }
      
    </style>
    <link rel="stylesheet"
          href="https://software-design.de/static/vendor/bootstrap-5.1.3/css/bootstrap.min.css">
  </head>
  <body>
    <!-- Header with Title and Image -->
    <table>
      <tr>
        <th style="text-align: left">
          <h1>{% trans "Documentation" %}</h1>
        </th>
        <th style="text-align: right">
          {% if localProject.image %}
            <img src="{{ settings.INTERFACE_URL }}{{ localProject.image.url }}"
                 class="float-end"
                 height="80"
                 width="auto"/>
          {% endif %}
        </th>
      </tr>
      <tr>
        <td>{{ remoteProject.description }}</td>
      </tr>
    </table>

    <br>
    <br>

    <!-- Index -->
    <table>
      <tr>
        <th style="text-align: left">
          {% with t='partials/tableofcontents'|template %}
            {% include t with links=False %}
          {% endwith %}
        </th>
      </tr>
    </table>

    <!-- Pages -->
   <div class="row">
    {% for path, category in wikiPages.items %}
        {% with forloop.counter as no %}
        <div style="display:block; clear:both; page-break-after:always;"></div>
        <div class="col-12 pt-5">

          <h1 class="text-capitalize">
            {{ no }} {% if path == '/' %}{% trans 'Documentation' %}{% else %}{{ path }}{% endif %}
          </h1>

              {% for page in category %}
                {% if forloop.counter != 1 %} 
                <div style="display:block; clear:both; page-break-after:always;"></div>
                {% endif %}
                <h2 class="text-capitalize pt-5">{{ no }}.{{ forloop.counter }} {{ page.title }}</h2>
                <div class="px-4" style="text-align: justify">
                  {% autoescape off %}
                    {% wikicontent page.slug localProject remoteProject %}
                  {% endautoescape %}
                </div>
              {% endfor %}
        </div>
        {% endwith %}
    {% endfor %}
      </div>
  </body>
</html>
